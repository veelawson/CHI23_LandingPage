<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Graduate Labor Rising</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/custom.css">
 
    <!--jquery js-->
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

    <!--jQuery UI files-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>

    <!--jQuery UI Touch js, required for touchscreen use-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>

    <!-- leaflet files -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>

    <!--Leaflet Time-Slider module js adapted from Brian Geyer (https://github.com/geyerbri) with thanks; find maintained version at https://github.com/geyerbri/LeafletSlider-->
    <script src="js/SliderControl.js"></script>

    <style>
        img.resize {
            max-width:80%;
            max-height:80%;
           }
        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
        }
        
        .marker {
            background-image: url("assets/img/Spyglass.png");
            background-size: cover;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
        }
    
        .mapboxgl-popup {
            min-width: 1200px;
        }

        .mapboxgl-popup-content {
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            min-width: 1200px;
        }
    </style>
</head>

<body style="background-color: #0A2B40">
    <section class="py-4 py-xl-5">
        <div class="container h-100">
            <div class="border rounded border-0 p-4 py-3" style="background: #f21b2d;">
                <div class="row h-100">
                    <div class="col-md-10 col-xl-8 text-center d-flex d-sm-flex d-md-flex justify-content-center align-items-center mx-auto align-items-md-center justify-content-xl-center">
                        <div>
                            <h1 class="fw-bold text-white mb-2" style="font-family: Georgia, 'Times New Roman', Times, serif">Graduate Labor Rising</h1>
                            <h4 class="mb-3" style="color: #5E010C; font-family: Arial, Helvetica, sans-serif;">Mapping the New Academic Labor Movement</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--MiniMap-->
    <section>
        <div class="container" style="min-width: 100%;max-width: 100%;padding: 5%;min-height: 100%;max-height: 100%;">
            <div id="map">Error.</div>
                <script>
                    var map1 = L.map("map").setView([40.61283794719691, -56.52796590302782], 4);
                    L.tileLayer("https://api.mapbox.com/styles/v1/lawsonv/cldc2srnp001i01n3pnbl4kjj/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoibGF3c29udiIsImEiOiJja3c2bW11dzc4bmp4MnVudXFkMnhtN3Z2In0.Y_r_LnfZaKSbBT5O7kMqnQ", {
                    attribution: "Map data &copy; <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors, Imagery Â© <a href='https://www.mapbox.com/''>Mapbox</a>",
                    maxZoom: 18,
                    id: "mapbox/dark-v10",
                    tileSize: 512,
                    zoomOffset: -1,
                    accessToken: "pk.eyJ1IjoibGF3c29udiIsImEiOiJja3c2bW11dzc4bmp4MnVudXFkMnhtN3Z2In0.Y_r_LnfZaKSbBT5O7kMqnQ"
                    }).addTo(map1); 
                    
                    //Custom Marker 
                    var spyglass = L.icon({
                        iconUrl: "assets/img/Spyglass.png",
                        iconSize:     [38, 38],
                        iconAnchor:   [22, 38], // point of the icon which will correspond to marker's location
                        popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                        });          
                        
                        //Put data here
                        var dataset1 = [             
                            {
                                type: "Feature",
                                geometry: {
                                    type: "Point",
                                    coordinates: [-0.076132, 51.508530]
                                },
                                properties: {
                                    title: "Sir Francis Walsingham (c. 1532 - 6 April 1590)",
                                    description: "<img src='https://upload.wikimedia.org/wikipedia/commons/3/38/St_Katharine%27s_%5E_Wapping%2C_London%2C_UK_-_panoramio_%2824%29.jpg'> <br> <b>Location: London, England</b> <br> As Secretary of State under Queen Elizabeth I, <a href='https://en.wikipedia.org/wiki/Francis_Walsingham'>Sir Francis Walsingham</a> used an extensive network of informants to identify and round up conspirators against the queen, particularly Catholics, and was involved in the entrapment and execution of Mary Queen of Scots, who was imprisoned in the <a href='https://www.hrp.org.uk/tower-of-london/''>Tower of London</a>.",
                                    time: "1532"
                                }
                            }
                        ];
        
                
                        var optionsObject = {
                            onEachFeature: onEachFeature, 
                            pointToLayer: function (feature, latlng) {
                                    return L.marker(latlng, {icon: spyglass});
                            }
                        };
                                
                            function onEachFeature (feature, layer) {
                            var content = "<div style='clear: both'></div><div><h4>" + feature.properties.title + "</h4><p>" + feature.properties.time + "</p><p>" + feature.properties.description + "</p></div>";
                            layer.bindPopup(content, {closeButton: true});
                        };
        
                
                        // Create the first geoJSON layer
                        var group1 = L.geoJSON(dataset1, optionsObject);
            
        
                        // Create the second geoJSON layer from external file
                        $.getJSON("data/dataset2.json", function(json) {
                            var group2 = L.geoJSON(json, optionsObject);
        
                        // Create the third geoJSON layer
                        var group3 = L.geoJSON(dataset3, optionsObject);
        
                        // Create the fourth geoJSON layer
                        var group4 = L.geoJSON(dataset4, optionsObject);
        
                        // Set the time attribute for each group
                        group1.options.time = "1500s";
                        group2.options.time = "1700s";
                        group3.options.time = "1800s";
                        group4.options.time = "1900s-Present";
        
        
                        // Create the layerGroup
                        var multiLayers = L.layerGroup([group1, group2, group3, group4]);
        
                        // Set the sliderControl options
                        var sliderControl1 = L.control.sliderControl( {
                            layer: multiLayers, //REQUIRED
                            alwaysShowDate: true,
                            showAllPopups: false, // to show all popups, instead of one, same as popup option "autoClose: false"
                            showPopups: false // to set it so, when a marker is generated by the slider, its popup doesn't automatically display
                        });
        
                        // Add the slider to the map
                        map1.addControl(sliderControl1);
        
                        // Initialize the slider
                        sliderControl1.startSlider();
                        });
                </script>
            </div>
   </section>
         

    <!--Start content-->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2 class="mb-4" style="text-align: center; color: #F26BCE; font-family: Georgia, 'Times New Roman', Times, serif;">Heading</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <p style="color: white; font-family: Arial, Helvetica, sans-serif;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum culpa incidunt voluptates, accusamus, earum fugiat id nihil voluptatem est quis, delectus perferendis? Commodi itaque sit amet dolorem pariatur iusto asperiores?</p>
            </div>
            <div class="col-md-6">
                <figure>
                    <blockquote class="blockquote">
                        <p class="mb-0" style="color: #F4B5E3; font-family: Arial, Helvetica, sans-serif">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                    </blockquote>
                    <figcaption class="blockquote-footer" style="color: #BF54A3; font-family: Arial, Helvetica, sans-serif;">Someone famous</figcaption>
                </figure>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <p style="color: white; font-family: Arial, Helvetica, sans-serif;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, ipsa. Nesciunt, quasi. Nobis, aspernatur debitis iste accusantium doloremque nemo hic rerum soluta quaerat atque, nihil nesciunt commodi impedit. Sequi, minus?</p>
            </div>
        </div>
    </div>
<!--Embed Google Form in section below--> 
    <div class="container">
        <div class="row">
            <div class="border rounded border-0 mb-4" style="background: #A60321;">
                <div class="col-md-12">
                    <h3 class="fw-bold" style="text-align: center; color: #F4B5E3; font-family: Georgia, 'Times New Roman', Times, serif;">Join the Project</h3>
                    <p style="color: white; font-family: Arial, Helvetica, sans-serif;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, provident, illum itaque repudiandae sit unde ab magni deserunt dicta atque ullam nihil mollitia aliquam doloremque alias perferendis quod incidunt tempore?</p>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>